<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i Thuy·∫øt Tr√¨nh Nh√≥m 3</title>
    <!-- Favicon m·ªõi -->
    <link rel="icon" href="https://lh3.googleusercontent.com/pw/AP1GczOlA0VVKGlPQyQHYTLsJ7lxTqie3Avy47Pfto3r3Eea--NAJDMRNQ9iNBBr3TQoI_PCw_9193SB2LYZ2zZ_sv7jUUHeKL-K5-JhkzCM6J6L-f9rC1n2=w2400" type="image/x-icon">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Fonts: Patrick Hand (Vi·∫øt tay) & Quicksand (Th√¢n thi·ªán) -->
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Quicksand', 'sans-serif'],
                        hand: ['Patrick Hand', 'cursive'],
                    },
                    colors: {
                        chalkboard: '#2d3748', // M√†u b·∫£ng ƒëen
                        paper: '#fffdf5',      // M√†u gi·∫•y ng√†
                        highlighter: '#fef08a', // M√†u b√∫t nh·ªõ v√†ng
                        pen: '#1e3a8a',        // M√†u m·ª±c xanh
                        redpen: '#ef4444',     // M√†u m·ª±c ƒë·ªè ch·∫•m b√†i
                    },
                    boxShadow: {
                        'paper': '2px 3px 5px rgba(0,0,0,0.1), 0 0 1px rgba(0,0,0,0.1)',
                        'sticker': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
                    }
                }
            }
        }
    </script>
    <style>
        /* Hi·ªáu ·ª©ng gi·∫•y √¥ ly */
        body {
            background-color: #f3f4f6;
            background-image: 
                linear-gradient(#e5e7eb 1px, transparent 1px),
                linear-gradient(90deg, #e5e7eb 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* Hi·ªáu ·ª©ng b√†n g·ªó (Intro) */
        #intro-screen {
            background-color: #5d4037;
            background-image: repeating-linear-gradient(45deg, rgba(255,255,255,0.05) 0px, rgba(255,255,255,0.05) 2px, transparent 2px, transparent 4px);
        }

        /* B√¨a v·ªü */
        .notebook-cover {
            background: #3b82f6; /* M√†u xanh b√¨a v·ªü */
            background-image: linear-gradient(to right, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 100%;
            box-shadow: 10px 10px 20px rgba(0,0,0,0.5);
            border-radius: 10px 4px 4px 10px;
            border-left: 15px solid #1e3a8a; /* G√°y s√°ch */
        }

        .label-sticker {
            background: white;
            border: 4px double #1e3a8a;
            border-radius: 8px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }

        /* Hi·ªáu ·ª©ng b·∫£ng ƒëen Header */
        .blackboard {
            background-color: #2d3436;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%239C92AC' fill-opacity='0.1' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E");
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            border-bottom: 8px solid #5d4037; /* Khung g·ªó */
        }

        /* Hi·ªáu ·ª©ng t·ªù gi·∫•y Note */
        .note-paper {
            background: #fffdf5;
            position: relative;
            border: 1px solid #e2e8f0;
            background-image: linear-gradient(90deg, transparent 39px, #fca5a5 39px, #fca5a5 41px, transparent 41px),
                              linear-gradient(#e5e7eb .05em, transparent .05em);
            background-size: 100% 100%, 100% 28px;
            line-height: 28px;
        }

        /* Hi·ªáu ·ª©ng bƒÉng d√≠nh (Tape) */
        .tape {
            background-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            backdrop-filter: blur(2px);
            transform: rotate(-2deg);
            position: absolute;
            top: -15px; left: 50%; margin-left: -50px;
            width: 100px; height: 30px;
            border-left: 1px dashed rgba(0,0,0,0.1); border-right: 1px dashed rgba(0,0,0,0.1);
            z-index: 10;
        }
        
        .hand-font { font-family: 'Patrick Hand', cursive; }
        
        /* Animation */
        .tab-content { display: none; animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .tab-content.active { display: block; }
        @keyframes popIn { 
            from { opacity: 0; transform: scale(0.95) translateY(10px); } 
            to { opacity: 1; transform: scale(1) translateY(0); } 
        }

        /* Transition Screen */
        .slide-up { animation: slideUp 0.8s forwards ease-in-out; }
        @keyframes slideUp { to { transform: translateY(-100%); opacity: 0; } }

        .fade-in-content { animation: fadeIn 1s forwards ease-in-out; opacity: 0; }
        @keyframes fadeIn { to { opacity: 1; } }

        /* Table vi·∫øt tay */
        .doodle-table th, .doodle-table td {
            border: 2px solid #2d3748;
            font-family: 'Patrick Hand', cursive;
            font-size: 1.1rem;
        }

        /* Logo xoay tr√≤n */
        .logo-spin {
            animation: spin 10s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="h-screen flex flex-col text-slate-800 font-sans overflow-hidden">

    <!-- ================= INTRO SCREEN (TRANG B·∫ÆT ƒê·∫¶U) ================= -->
    <div id="intro-screen" class="fixed inset-0 z-50 flex items-center justify-center">
        <div class="notebook-cover w-full max-w-lg p-10 text-center relative transform rotate-1 transition hover:rotate-0 duration-500">
            <!-- Decoration -->
            <div class="absolute -top-10 -right-10 text-6xl transform rotate-12 drop-shadow-lg">‚úèÔ∏è</div>
            <div class="absolute -bottom-5 -left-10 text-6xl transform -rotate-12 drop-shadow-lg">‚òï</div>

            <!-- Label -->
            <div class="label-sticker p-8 bg-white">
                <h1 class="font-hand text-5xl font-bold text-blue-900 mb-2">B√°o C√°o M√¥n H·ªçc</h1>
                <h2 class="font-sans text-xl text-slate-500 uppercase tracking-widest mb-6 border-b-2 border-slate-200 pb-2">X√°c Su·∫•t Th·ªëng K√™</h2>
                
                <div class="space-y-4">
                    <div class="text-center">
                        <p class="font-hand text-3xl text-slate-700 font-bold">Th·ª±c hi·ªán b·ªüi:</p>
                        <div class="bg-yellow-100 p-2 transform -rotate-2 mt-2 shadow-sm border border-yellow-200 inline-block">
                            <span class="font-hand text-4xl text-blue-700 font-bold px-4">NH√ìM 3</span>
                        </div>
                    </div>
                    
                    <button onclick="enterApp()" 
                            class="w-full bg-red-500 hover:bg-red-600 text-white font-hand text-3xl py-3 rounded shadow-lg transform active:scale-95 transition mt-6 border-b-4 border-red-700">
                        M·ªü V·ªü Ngay! üìñ
                    </button>
                </div>
            </div>
            
            <p class="font-hand text-white/80 mt-4 text-lg">Designed by Nh√≥m tr∆∞·ªüng Nguy·ªÖn Ho√†ng V≈©üåü
        </div>
    </div>

    <!-- ================= MAIN APP LAYOUT ================= -->
    <div id="main-app" class="h-full flex flex-col hidden opacity-0">
        
        <!-- HEADER: B·∫¢NG ƒêEN -->
        <header class="blackboard text-white p-4 z-20 flex justify-between items-center h-20 shadow-xl">
            <div class="flex items-center gap-4">
                <!-- LOGO XOAY TR√íN -->
                <img src="https://lh3.googleusercontent.com/pw/AP1GczOlA0VVKGlPQyQHYTLsJ7lxTqie3Avy47Pfto3r3Eea--NAJDMRNQ9iNBBr3TQoI_PCw_9193SB2LYZ2zZ_sv7jUUHeKL-K5-JhkzCM6J6L-f9rC1n2=w2400" 
                     alt="Logo Nh√≥m" 
                     class="w-16 h-16 rounded-full border-2 border-white shadow-lg logo-spin object-cover">
                <div>
                    <h1 class="font-hand text-3xl leading-none text-white tracking-wide">Bi·∫øn Ng·∫´u Nhi√™n & Ph√¢n Ph·ªëi X√°c Su·∫•t
                    <p class="font-hand text-lg text-gray-300">Th·ª±c hi·ªán b·ªüi: <span id="display-group-name" class="text-yellow-300 font-bold">Nh√≥m 3 |H.V≈©</span> ‚ú®</p>
                </div>
            </div>

            <!-- Navigation: Th·∫ª Tab gi·∫•y -->
            <nav class="hidden md:flex gap-4">
                <button onclick="switchTab('bai1')" class="nav-btn active font-hand text-xl px-4 py-1 rounded-t-lg bg-yellow-100 text-slate-800 border-t-2 border-x-2 border-yellow-200 hover:bg-white transform hover:-translate-y-1 transition" data-target="bai1">
                    üìù B√†i 1: Kh√°i Ni·ªám
                </button>
                <button onclick="switchTab('bai2')" class="nav-btn font-hand text-xl px-4 py-1 rounded-t-lg bg-slate-600 text-gray-300 border-t-2 border-x-2 border-slate-500 hover:bg-slate-500 hover:text-white transform hover:-translate-y-1 transition" data-target="bai2">
                    üìè B√†i 2: ƒêo ƒê·∫°c
                </button>
                <button onclick="switchTab('bai3')" class="nav-btn font-hand text-xl px-4 py-1 rounded-t-lg bg-slate-600 text-gray-300 border-t-2 border-x-2 border-slate-500 hover:bg-slate-500 hover:text-white transform hover:-translate-y-1 transition" data-target="bai3">
                    üìö B√†i 3: Ph√¢n Ph·ªëi Kh√°c
                </button>
                <button onclick="switchTab('maytinh')" class="nav-btn font-hand text-xl px-4 py-1 rounded-t-lg bg-slate-600 text-gray-300 border-t-2 border-x-2 border-slate-500 hover:bg-slate-500 hover:text-white transform hover:-translate-y-1 transition" data-target="maytinh">
                    üßÆ M√°y T√≠nh
                </button>
            </nav>
            
            <!-- Mobile Menu -->
            <button class="md:hidden text-2xl text-white"><i class="fa-solid fa-bars"></i></button>
        </header>

        <!-- MAIN CONTENT -->
        <main class="flex-1 overflow-y-auto p-4 md:p-8 w-full max-w-6xl mx-auto">
            
            <!-- ================= TAB 1: B√ÄI H·ªåC 1 ================= -->
            <div id="bai1" class="tab-content active pb-10">
                <!-- Title Sticky Note -->
                <div class="max-w-md mx-auto bg-yellow-200 p-4 shadow-sticker transform -rotate-1 mb-8 text-center relative font-hand">
                    <div class="w-3 h-3 rounded-full bg-red-800 absolute top-2 left-1/2 -translate-x-1/2 shadow-inner"></div> <!-- ƒêinh ghim -->
                    <h2 class="text-4xl font-bold text-red-700">M·ª•c 5.1: Nh·∫≠p M√¥n</h2>
                    <p class="text-xl text-slate-700">Bi·∫øn Ng·∫´u Nhi√™n & Ph√¢n Ph·ªëi</p>
                </div>

                <!-- Card: Bi·∫øn ng·∫´u nhi√™n -->
                <div class="note-paper shadow-paper rounded-sm p-8 pl-14 mb-8 relative max-w-3xl mx-auto bg-white">
                    <div class="tape"></div> <!-- BƒÉng d√≠nh -->
                    <h3 class="font-hand text-3xl font-bold text-blue-800 mb-4 border-b-2 border-blue-200 inline-block">1. Bi·∫øn ng·∫´u nhi√™n l√† g√¨? ü§î</h3>
                    
                    <div class="space-y-2 text-lg leading-relaxed">
                        <p>N√≥ l√† m·ªôt bi·∫øn s·ªë (X, Y) nh∆∞ng gi√° tr·ªã th√¨... <strong>h√™n xui (ng·∫´u nhi√™n)</strong>.</p>
                        <p>Kh√°c h·∫≥n v·ªõi <span class="font-mono bg-gray-200 px-1 rounded">2x = 4</span> trong ƒë·∫°i s·ªë nha!</p>
                        
                        <div class="bg-yellow-50 border-2 border-yellow-400 border-dashed rounded-lg p-4 mt-4 relative">
                            <i class="fa-solid fa-star text-yellow-400 text-2xl absolute -top-4 -left-3 bg-white rounded-full"></i>
                            <h4 class="font-hand font-bold text-2xl text-yellow-700">V√≠ d·ª•: Gieo S√∫c S·∫Øc üé≤</h4>
                            <ul class="list-disc ml-6 marker:text-yellow-500">
                                <li>Ch∆∞a gieo th√¨ ch∆∞a bi·∫øt ra m·∫∑t n√†o.</li>
                                <li>G·ªçi <strong>X</strong> l√† s·ªë ch·∫•m.</li>
                                <li>X = {1, 2, 3, 4, 5, 6}.</li>
                            </ul>
                            <p class="font-hand text-xl text-red-500 mt-2 transform rotate-1">=> ƒê√≥ ch√≠nh l√† Bi·∫øn Ng·∫´u Nhi√™n!</p>
                        </div>
                    </div>
                </div>

                <!-- Card: R·ªùi r·∫°c vs Li√™n t·ª•c -->
                <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
                    <!-- R·ªùi r·∫°c -->
                    <div class="bg-white shadow-sticker rounded-xl p-6 border-4 border-green-200 transform rotate-1 hover:rotate-0 transition">
                        <h3 class="font-hand text-3xl font-bold text-green-700 mb-2"><i class="fa-solid fa-cubes"></i> R·ªùi R·∫°c</h3>
                        <p class="text-slate-600 italic mb-2 font-hand text-xl">(Discrete)</p>
                        <div class="bg-green-50 p-3 rounded-lg border border-green-200">
                            <p class="font-bold text-green-900">ƒê·∫øm ƒë∆∞·ª£c!</p>
                            <p>1, 2, 3 ng∆∞·ªùi. Kh√¥ng c√≥ 1.5 ng∆∞·ªùi.</p>
                        </div>
                        <p class="mt-2 text-sm text-slate-500">VD: S·ªë cu·ªôc g·ªçi, s·ªë ch·∫•m s√∫c s·∫Øc.</p>
                    </div>

                    <!-- Li√™n t·ª•c -->
                    <div class="bg-white shadow-sticker rounded-xl p-6 border-4 border-slate-200 transform -rotate-1 hover:rotate-0 transition opacity-70">
                        <h3 class="font-hand text-3xl font-bold text-slate-600 mb-2"><i class="fa-solid fa-wave-square"></i> Li√™n T·ª•c</h3>
                        <p class="text-slate-600 italic mb-2 font-hand text-xl">(Continuous)</p>
                        <div class="bg-slate-50 p-3 rounded-lg border border-slate-200">
                            <p class="font-bold text-slate-900">ƒêo l∆∞·ªùng ƒë∆∞·ª£c!</p>
                            <p>Cao 1m70, 1m70.5...</p>
                        </div>
                        <p class="mt-2 text-sm text-slate-500">VD: Chi·ªÅu cao, Nhi·ªát ƒë·ªô.</p>
                    </div>
                </div>
                
                <div class="text-center mt-6">
                     <span class="inline-block bg-yellow-300 text-red-700 font-hand text-2xl px-4 py-2 transform -rotate-2 shadow-sm border-2 border-yellow-400">
                        ‚≠ê L∆∞u √Ω: Ch∆∞∆°ng n√†y ch·ªâ h·ªçc BI·∫æN R·ªúI R·∫†C th√¥i nh√©!
                     </span>
                </div>

                <!-- Card: Ph√¢n ph·ªëi & Quy t·∫Øc -->
                <div class="note-paper shadow-paper rounded-sm p-8 pl-14 mt-8 max-w-3xl mx-auto bg-white">
                    <div class="tape"></div>
                    <h3 class="font-hand text-3xl font-bold text-purple-800 mb-4 inline-block">2. Hai Quy T·∫Øc V√†ng üîë</h3>
                    <p class="text-lg">Mu·ªën bi·∫øt c√°i b·∫£ng c√≥ chu·∫©n kh√¥ng, ph·∫£i soi 2 ƒëi·ªÅu n√†y:</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="bg-purple-50 p-4 rounded-lg border-2 border-purple-200 border-dashed">
                            <strong class="font-hand text-2xl text-purple-700 block">Quy t·∫Øc 1:</strong>
                            <p>X√°c su·∫•t \(P(X)\) ph·∫£i t·ª´ <strong>0 ƒë·∫øn 1</strong>.</p>
                            <p class="text-red-500 font-hand text-lg mt-1">(C·∫•m s·ªë √¢m, c·∫•m > 1)</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg border-2 border-purple-200 border-dashed">
                            <strong class="font-hand text-2xl text-purple-700 block">Quy t·∫Øc 2:</strong>
                            <p>T·ªïng t·∫•t c·∫£ \(P(X)\) c·ªông l·∫°i ph·∫£i <strong>b·∫±ng 1</strong>.</p>
                            <p class="text-red-500 font-hand text-lg mt-1">(Tr√≤n 100% ƒë√≥)</p>
                        </div>
                    </div>
                </div>

                <!-- Th·ª±c h√†nh -->
                <div class="mt-10 max-w-4xl mx-auto">
                    <h3 class="font-hand text-4xl font-bold text-slate-700 mb-6 text-center underline decoration-wavy decoration-blue-400">üìù B√†i T·∫≠p Th·ª±c H√†nh 1</h3>
                    
                    <div class="bg-white p-6 rounded-2xl shadow-sticker border-2 border-slate-300 relative">
                        <div class="absolute -top-3 -left-3 bg-red-500 text-white font-hand font-bold px-3 py-1 rounded shadow transform -rotate-12">B√†i 5.1.3</div>
                        <p class="font-hand text-xl mb-4 text-slate-600">Ki·ªÉm tra xem c√°c b·∫£ng sau ƒê√∫ng hay Sai?</p>

                        <!-- ·∫¢nh b·∫£ng s·ªë li·ªáu -->
                        <img src="https://lh3.googleusercontent.com/pw/AP1GczORUn1GBp1bNGqQ77vBHcDrFeaFd67Fk0iEtYu5GUNp304CWOUKB36OqcP11MNsVmlMzaiiBme7DEWfDwhR0nUyxWq5wqzGLAtG4txz4d6M4rZg71lh=w2400" 
                             alt="B·∫£ng s·ªë li·ªáu v√≠ d·ª• 5.1.3" 
                             class="w-full max-w-lg mx-auto mb-6 rounded-lg border-2 border-slate-200 shadow-sm" />

                        <div class="space-y-4">
                            <!-- B·∫£ng B -->
                            <div class="group border-2 border-slate-200 rounded-lg p-4 hover:border-red-300 transition bg-slate-50">
                                <div class="flex justify-between items-center">
                                    <span class="font-bold text-lg">B·∫£ng (b): <span class="font-mono bg-white px-2 rounded border text-base">-1.0, 1.5, ...</span></span>
                                    <button onclick="toggleExplain('ex-b')" class="bg-white border-2 border-slate-300 text-slate-700 font-hand font-bold px-3 py-1 rounded shadow hover:bg-red-50 hover:text-red-600 transition">Soi L·ªói üîç</button>
                                </div>
                                <div id="ex-b" class="hidden mt-3 bg-red-50 p-3 rounded border border-red-200 font-hand text-xl text-red-800">
                                    <p>‚ùå <strong>Sai b√©t!</strong></p>
                                    <p>- C√≥ s·ªë √¢m (-1.0)</p>
                                    <p>- C√≥ s·ªë l·ªõn h∆°n 1 (1.5)</p>
                                    <p>=> Vi ph·∫°m Quy t·∫Øc 1.</p>
                                </div>
                            </div>

                            <!-- B·∫£ng D -->
                            <div class="group border-2 border-slate-200 rounded-lg p-4 hover:border-red-300 transition bg-slate-50">
                                <div class="flex justify-between items-center">
                                    <span class="font-bold text-lg">B·∫£ng (d): <span class="font-mono bg-white px-2 rounded border text-base">0.5, 0.3, 0.4</span></span>
                                    <button onclick="toggleExplain('ex-d')" class="bg-white border-2 border-slate-300 text-slate-700 font-hand font-bold px-3 py-1 rounded shadow hover:bg-red-50 hover:text-red-600 transition">Soi L·ªói üîç</button>
                                </div>
                                <div id="ex-d" class="hidden mt-3 bg-red-50 p-3 rounded border border-red-200 font-hand text-xl text-red-800">
                                    <p>‚ùå <strong>Sai lu√¥n!</strong></p>
                                    <p>C·ªông th·ª≠ xem: 0.5 + 0.3 + 0.4 = <strong>1.2</strong></p>
                                    <p>=> T·ªïng kh√°c 1. Vi ph·∫°m Quy t·∫Øc 2.</p>
                                </div>
                            </div>

                            <!-- B·∫£ng A & C -->
                            <div class="border-2 border-green-200 bg-green-50 rounded-lg p-4">
                                <p class="font-hand text-2xl text-green-700 font-bold">‚úÖ B·∫£ng (a) v√† (c) l√† ƒê√öNG!</p>
                                <p class="text-slate-600">V√¨ th·ªèa m√£n c·∫£ gi√° tr·ªã (0-1) v√† t·ªïng b·∫±ng 1.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ================= TAB 2: B√ÄI H·ªåC 2 ================= -->
            <div id="bai2" class="tab-content pb-10">
                <!-- Title Sticky Note -->
                <div class="max-w-md mx-auto bg-pink-200 p-4 shadow-sticker transform rotate-1 mb-8 text-center relative font-hand">
                    <div class="w-20 h-6 bg-pink-300 opacity-50 absolute -top-3 left-1/2 -translate-x-1/2 rounded"></div> <!-- Tape -->
                    <h2 class="text-4xl font-bold text-pink-700">M·ª•c 5.2: ƒêo ƒê·∫°c</h2>
                    <p class="text-xl text-slate-700">Trung b√¨nh - Ph∆∞∆°ng sai</p>
                </div>

                <!-- Blackboard Formulas -->
                <div class="blackboard p-6 rounded-xl shadow-xl max-w-4xl mx-auto mb-10 text-center relative border-8 border-yellow-900">
                    <div class="absolute bottom-2 right-4 w-12 h-4 bg-white opacity-80 rounded shadow"></div> <!-- Vi√™n ph·∫•n -->
                    
                    <h3 class="font-hand text-3xl text-white mb-6 underline decoration-wavy decoration-yellow-400">3 C√¥ng Th·ª©c C·∫ßn Nh·ªõ</h3>
                    
                    <div class="grid md:grid-cols-3 gap-6 text-white font-hand text-xl">
                        <div class="border-r-2 border-gray-500 border-dashed last:border-0 p-2">
                            <p class="text-yellow-300 text-2xl mb-2">Trung b√¨nh (\(\mu\))</p>
                            <p class="text-sm text-gray-400 mb-2">(K·ª≥ v·ªçng)</p>
                            <p class="text-2xl">\(\sum [X \cdot P]\)</p>
                        </div>
                        <div class="border-r-2 border-gray-500 border-dashed last:border-0 p-2">
                            <p class="text-pink-300 text-2xl mb-2">Ph∆∞∆°ng sai (\(\sigma^2\))</p>
                            <p class="text-sm text-gray-400 mb-2">(ƒê·ªô r·ªßi ro)</p>
                            <p class="text-2xl">\(\sum [X^2 \cdot P] - \mu^2\)</p>
                        </div>
                        <div class="p-2">
                            <p class="text-green-300 text-2xl mb-2">ƒê·ªô l·ªách chu·∫©n (\(\sigma\))</p>
                            <p class="text-sm text-gray-400 mb-2">(CƒÉn b·∫≠c 2)</p>
                            <p class="text-2xl">\(\sqrt{\sigma^2}\)</p>
                        </div>
                    </div>
                </div>

                <!-- Th·ª±c h√†nh H·ªôp b√≥ng -->
                <div class="note-paper shadow-paper rounded-sm p-8 pl-14 max-w-4xl mx-auto bg-white">
                    <div class="tape"></div>
                    <div class="flex flex-col md:flex-row gap-6 items-start">
                        <div class="flex-1">
                            <h3 class="font-hand text-3xl font-bold text-blue-900 mb-2">Th·ª±c h√†nh 2: H·ªôp B√≥ng üì¶</h3>
                            <p class="text-lg mb-4">H·ªôp 5 qu·∫£: 2 qu·∫£ s·ªë 3, 1 qu·∫£ s·ªë 4, 2 qu·∫£ s·ªë 5.</p>
                            
                            <!-- Handwritten Table -->
                            <table class="doodle-table w-full text-center mb-4">
                                <tr class="bg-gray-100">
                                    <th>X</th> <td>3</td> <td>4</td> <td>5</td>
                                </tr>
                                <tr>
                                    <th>P(X)</th> <td>0.4</td> <td>0.2</td> <td>0.4</td>
                                </tr>
                            </table>
                        </div>
                        
                        <!-- Doodle Image -->
                        <div class="bg-white border-2 border-slate-800 rounded-lg p-4 shadow-sticker transform rotate-2 w-48 text-center">
                            <div class="flex justify-center gap-2 mb-2">
                                <div class="w-8 h-8 rounded-full border-2 border-red-500 text-red-500 font-bold flex items-center justify-center">3</div>
                                <div class="w-8 h-8 rounded-full border-2 border-red-500 text-red-500 font-bold flex items-center justify-center">3</div>
                                <div class="w-8 h-8 rounded-full border-2 border-yellow-500 text-yellow-500 font-bold flex items-center justify-center">4</div>
                            </div>
                            <div class="flex justify-center gap-2">
                                <div class="w-8 h-8 rounded-full border-2 border-blue-500 text-blue-500 font-bold flex items-center justify-center">5</div>
                                <div class="w-8 h-8 rounded-full border-2 border-blue-500 text-blue-500 font-bold flex items-center justify-center">5</div>
                            </div>
                            <p class="font-hand text-slate-500 mt-2 text-sm">Minh h·ªça c√°i h·ªôp</p>
                        </div>
                    </div>

                    <!-- Step by step -->
                    <div class="space-y-4 mt-6">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4">
                            <h4 class="font-hand text-2xl font-bold text-blue-800">B∆∞·ªõc 1: T√≠nh Trung b√¨nh \(\mu\)</h4>
                            <p class="font-mono mt-2 ml-4 text-lg text-slate-700">
                                (3 x 0.4) + (4 x 0.2) + (5 x 0.4)<br>
                                = 1.2 + 0.8 + 2.0<br>
                                = <strong class="text-red-600 bg-yellow-200 px-1">4.0</strong>
                            </p>
                        </div>

                        <div class="bg-pink-50 border-l-4 border-pink-400 p-4">
                            <h4 class="font-hand text-2xl font-bold text-pink-800">B∆∞·ªõc 2: T√≠nh Ph∆∞∆°ng sai \(\sigma^2\)</h4>
                            <p class="mb-1 text-slate-700">Nh·ªõ t√≠nh \(\mu^2 = 4.0^2 = 16\) tr∆∞·ªõc nh√©.</p>
                            <p class="font-mono mt-2 ml-4 text-lg text-slate-700">
                                (3¬≤x0.4) + (4¬≤x0.2) + (5¬≤x0.4) - 16<br>
                                = (3.6 + 3.2 + 10.0) - 16<br>
                                = 16.8 - 16<br>
                                = <strong class="text-red-600 bg-yellow-200 px-1">0.8</strong>
                            </p>
                        </div>

                        <div class="bg-green-50 border-l-4 border-green-400 p-4">
                            <h4 class="font-hand text-2xl font-bold text-green-800">B∆∞·ªõc 3: ƒê·ªô l·ªách chu·∫©n \(\sigma\)</h4>
                            <p class="font-mono mt-2 ml-4 text-lg text-slate-700">
                                \(\sqrt{0.8}\) <br>
                                \(\approx\) <strong class="text-red-600 bg-yellow-200 px-1">0.894</strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ================= TAB 3: B√ÄI H·ªåC 3 (B·ªî SUNG) ================= -->
            <div id="bai3" class="tab-content pb-10">
                <!-- Title Sticky Note -->
                <div class="max-w-md mx-auto bg-green-200 p-4 shadow-sticker transform -rotate-1 mb-8 text-center relative font-hand">
                    <div class="w-3 h-3 rounded-full bg-red-800 absolute top-2 left-1/2 -translate-x-1/2 shadow-inner"></div>
                    <h2 class="text-4xl font-bold text-green-800">M·ª•c 5.3 & 5.4: N√¢ng Cao</h2>
                    <p class="text-xl text-slate-700">C√°c Lo·∫°i Ph√¢n Ph·ªëi Kh√°c</p>
                </div>

                <!-- PH√ÇN PH·ªêI NH·ªä TH·ª®C (BINOMIAL) -->
                <div class="note-paper shadow-paper rounded-sm p-8 pl-14 max-w-4xl mx-auto bg-white mb-10">
                    <div class="tape"></div>
                    <h3 class="font-hand text-3xl font-bold text-blue-900 mb-2 border-b-2 border-blue-300 inline-block">1. Ph√¢n Ph·ªëi Nh·ªã Th·ª©c (Binomial)</h3>
                    <p class="text-lg mb-2 italic text-slate-500">K√Ω hi·ªáu: \(X \sim B(n, p)\)</p>
                    
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <strong class="font-bold text-blue-800">ƒêi·ªÅu ki·ªán (4 c√°i ph·∫£i nh·ªõ):</strong>
                            <ul class="list-disc ml-5 mt-1 text-slate-700 font-hand text-lg">
                                <li>S·ªë l·∫ßn th·ª≠ \(n\) c·ªë ƒë·ªãnh.</li>
                                <li>M·ªói l·∫ßn th·ª≠ ch·ªâ c√≥ 2 k·∫øt qu·∫£: Th√†nh c√¥ng (P) ho·∫∑c Th·∫•t b·∫°i (q).</li>
                                <li>X√°c su·∫•t \(P\) kh√¥ng ƒë·ªïi.</li>
                                <li>C√°c l·∫ßn th·ª≠ ƒë·ªôc l·∫≠p nhau.</li>
                            </ul>
                        </div>

                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-yellow-50 p-4 rounded-lg border-2 border-yellow-300 border-dashed text-center">
                                <p class="font-hand text-xl font-bold text-yellow-800">C√¥ng Th·ª©c X√°c Su·∫•t</p>
                                <p class="text-2xl mt-2 font-serif text-slate-800">
                                    \(P(X=k) = C_n^k \cdot p^k \cdot (1-p)^{n-k}\)
                                </p>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg border-2 border-green-300 border-dashed text-center">
                                <p class="font-hand text-xl font-bold text-green-800">ƒêo L∆∞·ªùng</p>
                                <div class="text-left ml-8 mt-2 space-y-1 font-serif">
                                    <p>1. Trung b√¨nh: \(\mu = n \cdot p\)</p>
                                    <p>2. Ph∆∞∆°ng sai: \(\sigma^2 = n \cdot p \cdot q\)</p>
                                    <p>3. ƒê·ªô l·ªách chu·∫©n: \(\sigma = \sqrt{npq}\)</p>
                                </div>
                            </div>
                        </div>

                        <!-- V√≠ d·ª• Nh√≥m 4 -->
                        <div class="mt-4 p-4 bg-gray-100 rounded-lg border border-gray-300">
                            <h4 class="font-hand text-xl font-bold text-slate-700">üìù V√≠ d·ª• (Nh√≥m 4): Tung ƒë·ªìng xu</h4>
                            <p class="text-slate-600">Tung 5 l·∫ßn (\(n=5\)). X√°c su·∫•t m·∫∑t s·∫•p l√† 0.5 (\(p=0.5\)). T√≠nh x√°c su·∫•t c√≥ ƒë√∫ng 3 l·∫ßn s·∫•p (\(k=3\)).</p>
                            <p class="font-mono mt-2 bg-white p-2 rounded border border-gray-200">
                                \(P(X=3) = C_5^3 \cdot 0.5^3 \cdot 0.5^{5-3} = 0.3125\)
                            </p>
                        </div>
                    </div>
                </div>

                <!-- C√ÅC PH√ÇN PH·ªêI KH√ÅC -->
                <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
                    <!-- Poisson -->
                    <div class="bg-white shadow-sticker rounded-xl p-6 border-4 border-indigo-200 transform rotate-1">
                        <h3 class="font-hand text-2xl font-bold text-indigo-700 mb-2">2. Ph√¢n Ph·ªëi Poisson</h3>
                        <p class="text-slate-600 text-sm mb-3">D√πng khi s·ª± ki·ªán x·∫£y ra trong m·ªôt kho·∫£ng th·ªùi gian/kh√¥ng gian nh·∫•t ƒë·ªãnh.</p>
                        <div class="bg-indigo-50 p-3 rounded-lg border border-indigo-200 text-center">
                            <p class="font-serif text-lg text-indigo-900">\(P(X=k) = \frac{e^{-\lambda} \cdot \lambda^k}{k!}\)</p>
                            <p class="text-xs text-indigo-500 mt-1">(\(\lambda\) l√† s·ªë l·∫ßn xu·∫•t hi·ªán trung b√¨nh)</p>
                        </div>
                    </div>

                    <!-- Si√™u B·ªôi -->
                    <div class="bg-white shadow-sticker rounded-xl p-6 border-4 border-orange-200 transform -rotate-1">
                        <h3 class="font-hand text-2xl font-bold text-orange-700 mb-2">3. Ph√¢n Ph·ªëi Si√™u B·ªôi</h3>
                        <p class="text-slate-600 text-sm mb-3">L·∫•y m·∫´u KH√îNG ho√†n l·∫°i t·ª´ t·∫≠p h·ª£p N ph·∫ßn t·ª≠.</p>
                        <div class="bg-orange-50 p-3 rounded-lg border border-orange-200 text-center">
                            <p class="font-serif text-lg text-orange-900">\(P(X=k) = \frac{C_M^k \cdot C_{N-M}^{n-k}}{C_N^n}\)</p>
                            <p class="text-xs text-orange-500 mt-1">(Ch·ªçn k ph·∫ßn t·ª≠ lo·∫°i A trong n l·∫ßn l·∫•y)</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ================= TAB 4: M√ÅY T√çNH ================= -->
            <div id="maytinh" class="tab-content pb-10">
                <div class="text-center mb-6">
                     <h2 class="font-hand text-4xl font-bold text-slate-700 inline-block border-b-4 border-yellow-300">üßÆ M√°y T√≠nh B·ªè T√∫i</h2>
                     <p class="text-slate-500 mt-2 font-hand text-xl">Nh·∫≠p s·ªë v√†o ƒë√¢y, m√¨nh t√≠nh gi√∫p cho!</p>
                </div>

                <div class="grid lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                    <!-- Input Panel -->
                    <div class="bg-white p-6 rounded shadow-sticker border border-slate-300 relative transform -rotate-1">
                        <div class="absolute -top-4 -right-4 w-12 h-12 bg-yellow-100 rounded-full border-2 border-yellow-300 flex items-center justify-center text-2xl shadow">‚úèÔ∏è</div>
                        <h3 class="font-hand text-2xl font-bold mb-4">Nh·∫≠p D·ªØ Li·ªáu:</h3>
                        
                        <form id="calc-form" onsubmit="event.preventDefault(); calculate();" class="space-y-3">
                            <div id="input-rows" class="space-y-2 max-h-[300px] overflow-y-auto pr-2">
                                <!-- Rows injected here -->
                            </div>
                            <div class="flex gap-2 mt-4 pt-4 border-t-2 border-dashed border-slate-200">
                                <button type="button" onclick="addRow()" class="flex-1 bg-green-100 text-green-800 font-hand text-xl font-bold py-2 rounded border-2 border-green-200 hover:bg-green-200">
                                    + Th√™m d√≤ng
                                </button>
                                <button type="submit" class="flex-1 bg-blue-600 text-white font-hand text-xl font-bold py-2 rounded shadow hover:bg-blue-700 transform hover:scale-105 transition">
                                    T√≠nh Ngay! üöÄ
                                </button>
                            </div>
                            <button type="button" onclick="resetCalculator()" class="w-full text-slate-400 font-hand text-lg underline hover:text-slate-600">L√†m l·∫°i v√≠ d·ª• H·ªôp b√≥ng</button>
                        </form>
                    </div>

                    <!-- Result Panel -->
                    <div class="lg:col-span-2">
                        <!-- Cards K·∫øt qu·∫£ -->
                        <div class="grid grid-cols-3 gap-4 mb-6">
                            <div class="bg-blue-600 text-white p-4 rounded-xl shadow-lg border-4 border-blue-700 text-center transform hover:-translate-y-1 transition">
                                <div class="font-hand text-xl opacity-80">Trung b√¨nh (\(\mu\))</div>
                                <div id="res-mean" class="font-mono text-3xl font-bold mt-1">--</div>
                            </div>
                            <div class="bg-pink-500 text-white p-4 rounded-xl shadow-lg border-4 border-pink-600 text-center transform hover:-translate-y-1 transition">
                                <div class="font-hand text-xl opacity-80">Ph∆∞∆°ng sai (\(\sigma^2\))</div>
                                <div id="res-var" class="font-mono text-3xl font-bold mt-1">--</div>
                            </div>
                            <div class="bg-green-500 text-white p-4 rounded-xl shadow-lg border-4 border-green-600 text-center transform hover:-translate-y-1 transition">
                                <div class="font-hand text-xl opacity-80">ƒê·ªô l·ªách chu·∫©n (\(\sigma\))</div>
                                <div id="res-std" class="font-mono text-3xl font-bold mt-1">--</div>
                            </div>
                        </div>

                        <!-- Detail Table -->
                        <div class="bg-white rounded-lg shadow-paper p-1 border-2 border-slate-800 overflow-hidden">
                            <table class="w-full text-center doodle-table">
                                <thead class="bg-slate-200 text-slate-700">
                                    <tr>
                                        <th class="p-3">X</th>
                                        <th class="p-3">P(X)</th>
                                        <th class="p-3 text-blue-700">X \(\cdot\) P</th>
                                        <th class="p-3 text-pink-700">X\(^2\) \(\cdot\) P</th>
                                    </tr>
                                </thead>
                                <tbody id="detail-body" class="text-slate-700 font-hand text-xl">
                                    <tr><td colspan="4" class="p-8 text-slate-400">ƒêang ch·ªù b·∫°n b·∫•m t√≠nh...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- JS LOGIC -->
    <script>
        // --- 1. INTRO SCREEN LOGIC ---
        function enterApp() {
            const displayName = "Nh√≥m 3"; // ƒê·∫∑t t√™n c·ª©ng lu√¥n
            
            // Update Header Name
            document.getElementById('display-group-name').innerText = displayName;

            // Animation: Slide Intro Up & Fade In Main App
            const introScreen = document.getElementById('intro-screen');
            const mainApp = document.getElementById('main-app');

            introScreen.classList.add('slide-up');
            
            setTimeout(() => {
                introScreen.style.display = 'none'; // Remove from flow after anim
                mainApp.classList.remove('hidden');
                mainApp.classList.add('fade-in-content');
            }, 700); // Wait for slide animation
        }

        // --- 2. TAB SWITCHING ---
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            
            // Reset button styles
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if(btn.dataset.target === tabId) {
                    btn.classList.add('bg-white', 'text-slate-800', 'active');
                    btn.classList.remove('bg-yellow-100', 'bg-slate-600', 'text-gray-300', 'bg-green-100');
                    if(tabId === 'bai1') btn.classList.add('bg-yellow-100');
                    if(tabId === 'bai3') btn.classList.add('bg-green-100'); 
                } else {
                    btn.classList.remove('active', 'bg-white', 'text-slate-800', 'bg-yellow-100', 'bg-green-100');
                    btn.classList.add('bg-slate-600', 'text-gray-300');
                }
            });
        }

        // --- 3. TOGGLE EXPLAIN ---
        function toggleExplain(id) {
            const el = document.getElementById(id);
            el.classList.toggle('hidden');
        }

        // --- 4. CALCULATOR LOGIC ---
        function addRow(x = '', p = '') {
            const container = document.getElementById('input-rows');
            const div = document.createElement('div');
            div.className = 'flex gap-2 items-center bg-slate-50 p-2 rounded border border-dashed border-slate-300';
            div.innerHTML = `
                <input type="number" step="any" placeholder="X" value="${x}" class="calc-x w-1/3 p-1 border-b-2 border-slate-300 bg-transparent text-center font-hand text-xl focus:outline-none focus:border-blue-500" required>
                <input type="number" step="any" placeholder="P(X)" value="${p}" class="calc-p w-1/3 p-1 border-b-2 border-slate-300 bg-transparent text-center font-hand text-xl focus:outline-none focus:border-blue-500" required>
                <button type="button" onclick="this.parentElement.remove()" class="ml-auto text-red-400 hover:text-red-600 text-xl"><i class="fa-solid fa-eraser"></i></button>
            `;
            container.appendChild(div);
        }

        function resetCalculator() {
            const container = document.getElementById('input-rows');
            container.innerHTML = '';
            // Load Example 5.2.4 Data
            addRow(3, 0.4);
            addRow(4, 0.2);
            addRow(5, 0.4);
        }

        function calculate() {
            const xInputs = document.querySelectorAll('.calc-x');
            const pInputs = document.querySelectorAll('.calc-p');
            let data = [];
            let sumP = 0;

            xInputs.forEach((xIn, i) => {
                const x = parseFloat(xIn.value);
                const p = parseFloat(pInputs[i].value);
                if (!isNaN(x) && !isNaN(p)) {
                    data.push({x, p});
                    sumP += p;
                }
            });

            if (Math.abs(sumP - 1) > 0.001) {
                alert(`‚ö†Ô∏è √ä b·∫°n ∆°i, T·ªïng P(X) = ${sumP.toFixed(2)} (Kh√°c 1). Coi ch·ª´ng t√≠nh sai nha!`);
            }

            let mean = 0;
            let sumX2P = 0;
            let html = '';

            data.forEach(item => {
                const xp = item.x * item.p;
                const x2p = (item.x * item.x) * item.p;
                mean += xp;
                sumX2P += x2p;

                html += `
                    <tr class="hover:bg-yellow-50">
                        <td class="p-2 font-bold">${item.x}</td>
                        <td class="p-2">${item.p}</td>
                        <td class="p-2 text-blue-600 font-bold">${xp.toFixed(2)}</td>
                        <td class="p-2 text-pink-600 font-bold">${x2p.toFixed(2)}</td>
                    </tr>
                `;
            });

            const variance = sumX2P - (mean * mean);
            const stdDev = Math.sqrt(variance);

            document.getElementById('res-mean').innerText = mean.toFixed(4);
            document.getElementById('res-var').innerText = variance.toFixed(4);
            document.getElementById('res-std').innerText = stdDev.toFixed(4);
            document.getElementById('detail-body').innerHTML = html;
        }

        // Init
        resetCalculator();
    </script>
</body>
</html>



